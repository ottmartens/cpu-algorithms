(window["webpackJsonpprocessor-scheduler"]=window["webpackJsonpprocessor-scheduler"]||[]).push([[0],[,,function(e,t,n){e.exports={scheduler:"App_scheduler__1vHEb",header:"App_header__2L3DO",controls:"App_controls__2MSL9",timeline:"App_timeline__1jgvV",customTimeline:"App_customTimeline__LuqHI",error:"App_error__1LS0k"}},function(e,t,n){e.exports={visualizer:"visualizer_visualizer__IqrZE",spacer:"visualizer_spacer__3dKCK",upcoming:"visualizer_upcoming__2_bjx",blockRow:"visualizer_blockRow__G0RKM",done:"visualizer_done__3FhrQ"}},function(e,t,n){e.exports={counter:"counter_counter__3ZU8z",average:"counter_average__308Qt",number:"counter_number__QGA_A"}},,function(e,t,n){e.exports={block:"block_block__2bW7g"}},,,function(e,t,n){e.exports={select:"select_select__XlnEk"}},function(e,t,n){e.exports={button:"button_button__H5057"}},,function(e,t,n){e.exports={link:"link_link__24NwO"}},function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=n(1),l=n(9),u=n.n(l),s=function(e){var t=e.options,n=void 0===t?[]:t,a=e.onChange,c="object"===typeof n[0];return r.a.createElement("select",{onChange:a,className:u.a.select},n.map((function(e){return c?r.a.createElement("option",{key:e.value,value:e.value},e.label):r.a.createElement("option",{key:e},e)})))},f=n(10),m=n.n(f),d=function(e){var t=e.label,n=e.onClick,a=e.disabled;return r.a.createElement("button",{className:m.a.button,disabled:a,onClick:n},t)};var b=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},v=n(5);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h=function(e){return e.split(";").map((function(e,t){var n=e.split(",");return{arrival:Number(n[0]),duration:Number(n[1]),consumed:0,id:t+1}}))},g=function(e,t,n,r){var c=Object(a.useState)(h(e)),o=Object(i.a)(c,2),l=o[0],u=o[1],s=Object(a.useState)([]),f=Object(i.a)(s,2),m=f[0],d=f[1],g=Object(a.useState)(0),E=Object(i.a)(g,2),_=E[0],O=E[1],w=Object(a.useState)([]),j=Object(i.a)(w,2),k=j[0],S=j[1],y=Object(a.useState)(0),N=Object(i.a)(y,2),C=N[0],R=N[1],F=Object(a.useState)([]),A=Object(i.a)(F,2),T=A[0],z=A[1],x=Object(a.useState)([]),P=Object(i.a)(x,2),I=P[0],W=P[1],B=Object(a.useState)([]),L=Object(i.a)(B,2),D=L[0],U=L[1],K=function(){if(0!==l.length){var e,n=l.filter((function(e){return _>=e.arrival}));if(n.length>=1)switch(t){case"FCFS":n.sort((function(e,t){return e.arrival-t.arrival})),e=n[0];break;case"SRTF":n.sort((function(e,t){return e.duration-e.consumed-(t.duration-t.consumed)||t.consumed-e.consumed})),e=n[0];break;case"RR":var a=k.slice(0),c=!1;if(n.forEach((function(e){a.includes(e.id)||a.push(e.id)})),4===C){var o=a.shift();a.push(o),c=!0}a.forEach((function(e){if(!n.find((function(t){return t.id===e}))){var t=a.indexOf(e);a.splice(t,1),0===t&&(c=!0)}})),e=n.find((function(e){return e.id===a[0]})),R(c?1:C+1),S(a);break;case"FCFS2":var i=l.filter((function(e){return e.arrival===_})),s=i.filter((function(e){return e.duration<=5})),f=i.filter((function(e){return e.duration>5})),b=I.map((function(e){return n.find((function(t){return t.id===e.id}))||null})).concat(s).filter((function(e){return null!==e})).filter((function(e){return e.duration-e.consumed!==0})),h=T.map((function(e){return n.find((function(t){return t.id===e.id}))||null})).concat(f).filter((function(e){return null!==e})).filter((function(e){return e.duration-e.consumed!==0}));b.length>0?e=b[0]:h.length>0&&(e=h[0]),W(b),z(h);break;default:console.log("This is not quite right")}e&&(d(m.concat(e.id)),u(l.map((function(t){return t.id===e.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{consumed:t.consumed+1}):t})).filter((function(e){return e.consumed<e.duration||(U(D.concat([_-e.arrival+1-e.duration])),!1)})))),O(_+1)}else r(!1)};return Object(a.useEffect)((function(){n&&(u(h(e)),d([]),O(0),R(0),S([]),z([]),W([]),U([]))}),[n,e]),Object(a.useEffect)((function(){u(h(e)),d([]),O(0),R(0),S([]),z([]),W([]),U([])}),[e,t]),b((function(){K()}),n?1e3:null),{inboundRows:l,doneBlocks:m,stepCount:_,waitTimes:D}},E=n(3),_=n.n(E),O=function(e){var t=e.stepCount,n=e.rows,a=e.blockSize;return r.a.createElement("div",{className:_.a.upcoming},n.map((function(e,n){var c=Array(e.duration-e.consumed).fill(e.id);return e.arrival>t&&(c=Array(e.arrival-t).fill(!1).concat(c)),r.a.createElement("div",{key:n,className:_.a.blockRow},c.map((function(e,t){return r.a.createElement(A,{size:a,key:"".concat(t).concat(e),value:e,inbound:!0,isInvisible:!e})})))})))},w=function(e){var t=e.doneBlocks,n=e.blockSize;return r.a.createElement("div",{className:_.a.done},t.slice(0).reverse().map((function(e,t){return r.a.createElement(A,{size:n,value:e,key:"".concat(t).concat(e)})})))},j=function(e){var t=e.timeline,n=e.algo,a=e.started,c=e.setStarted,o=g(t,n,a,c),i=o.inboundRows,l=o.doneBlocks,u=o.stepCount,s=o.waitTimes,f=250/t.split(";").length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:_.a.visualizer},r.a.createElement(O,{blockSize:f,rows:i,stepCount:u}),r.a.createElement("div",{className:_.a.spacer}),r.a.createElement(w,{blockSize:f,doneBlocks:l})),r.a.createElement(x,{started:a,waitTimes:s,count:u}))},k=n(11),S=n.n(k),y=[{label:"First Come First Serve (FCFS)",value:"FCFS"},{label:"Smallest Remaining Time First (SRTF)",value:"SRTF"},{label:"Round Robin (RR)",value:"RR"},{label:"Two-Level FCFS",value:"FCFS2"}],N=["1,4;4,2;2,3;13,2;2,4;6,1;1,9;0,2;9,2;4,5","0,11;2,8;4,5;6,2;8,2;10,1","1,10;4,2;12,3;13,2","custom"],C=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],R=n(6),F=n.n(R),A=function(e){var t=e.isInvisible,n=e.value,a=e.inbound,c=e.size;return r.a.createElement("div",{className:S()(F.a.block,Object(v.a)({},F.a.inbound,a)),style:{background:t?"transparent":C[n],width:"".concat(c,"px"),height:"".concat(c,"px"),margin:"".concat(c/10,"px")}})},T=n(4),z=n.n(T),x=function(e){var t=e.count,n=e.waitTimes;e.started;return r.a.createElement("div",{className:z.a.counter},r.a.createElement("div",null,"tick count: ",r.a.createElement("span",{className:z.a.number},t)),n.length>0&&r.a.createElement("div",{className:z.a.average},"average wait time for process:"," ",r.a.createElement("span",{className:z.a.number},Math.round(n.reduce((function(e,t){return e+t}),0)/n.length*1e3)/1e3)))},P=n(12),I=n.n(P),W=function(){return r.a.createElement("div",{className:I.a.link},r.a.createElement("a",{href:"https://ottmartens.github.io/ram-algorithms/"},"RAM Scheduler"),r.a.createElement("a",{href:"https://ottmartens.github.io/disk-algorithms/"},"Disk Scheduler"))},B=n(2),L=n.n(B),D=function(){var e=Object(a.useState)("FCFS"),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(N[0]),l=Object(i.a)(o,2),u=l[0],f=l[1],m=Object(a.useState)(!1),b=Object(i.a)(m,2),v=b[0],p=b[1],h=Object(a.useState)("0,0"),g=Object(i.a)(h,2),E=g[0],_=g[1],O=Object(a.useState)(""),w=Object(i.a)(O,2),k=w[0],S=w[1],C=function(e){try{e&&(e.split(";").map((function(e){if(2!==e.split(",").length)throw new Error("Invalid timeline!");return null})),_(e))}catch(t){S(t.message)}};return Object(a.useEffect)((function(){S("")}),[u,E]),Object(a.useEffect)((function(){"custom"!==u&&_("0,0")}),[u]),r.a.createElement("div",{className:L.a.scheduler},r.a.createElement(W,null),r.a.createElement("header",{className:L.a.header},r.a.createElement("h1",{className:L.a.title},"CPU scheduler"),r.a.createElement("div",{className:L.a.controls},r.a.createElement("div",{className:L.a.timeline},r.a.createElement("h3",null,"Process timeline"),r.a.createElement(s,{options:N,onChange:function(e){var t=e.target.value;f(t),p(!1)}}),"custom"===u&&r.a.createElement("input",{className:L.a.customTimeline,onBlur:function(e){return C(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C(e.target.value)}})),r.a.createElement("div",{className:L.a.algo},r.a.createElement("h3",null,"Algorithm"),r.a.createElement(s,{options:y,onChange:function(e){var t=e.target.value;c(t),p(!1)}}))),r.a.createElement(d,{disabled:!!k,label:v?"STOP":"START",onClick:function(){p(!v)}}),k&&r.a.createElement("span",{className:L.a.error},k)),r.a.createElement(j,{algo:n,timeline:"custom"===u?E:u,started:v,setStarted:p}))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(D,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cpu-algorithms",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cpu-algorithms","/service-worker.js");U?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}],[[13,1,2]]]);
//# sourceMappingURL=main.eea61b6e.chunk.js.map